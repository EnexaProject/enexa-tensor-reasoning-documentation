\begin{tikzpicture}[scale=0.35, yscale=1, thick] % , baseline = -3.5pt


    \draw (1,-1) rectangle (7,-3);
    \node[anchor=center] (text) at (4,-2) {$\groundingof{\left(\impformula\Rightarrow\folexformula\right)}$};

    \draw[] (2,-3) -- (2,-5) node[midway,left] {\colorlabelsize $\indvariableof{0}$};
    \node[anchor=center] (text) at (4,-4) {$\cdots$};
    \draw[] (6,-3) -- (6,-5) node[midway,right] {\colorlabelsize $\indvariableof{\indorder-1}$};


    \node[anchor=center] (text) at (10,-2) {${=}$};


    \begin{scope}
        [shift={(12,-2)}]

        \draw (1,3) rectangle (12,5);
        \node[anchor=center] (text) at (6.5,4) {$\exformula$};

        \draw[->-] (2.5,1) -- (2.5,2.5) node[midway,right] {\colorlabelsize $\catvariableof{0}$};
        \drawvariabledot{2.5}{2.5}
        \draw[] (2.5,2.5) -- (2.5,3);
        \draw (1,-1) rectangle (4,1);
        \node[anchor=center] (text) at (2.5,0) {$\bencodingof{\groundingof{\extformulaof{0}}}$};
        \node[anchor=center] (text) at (2.5,-2) {$\cdots$};

        \node[anchor=center] (text) at (6.5,0) {$\cdots$};

        \draw[->-] (10.5,1) -- (10.5,2.5) node[midway,right] {\colorlabelsize $\catvariableof{\atomorder-1}$};
        \drawvariabledot{10.5}{2.5}
        \draw[] (10.5,2.5) -- (10.5,3);
        \draw (8.75,-1) rectangle (12.25,1);
        \node[anchor=center] (text) at (10.5,0) {$\bencodingof{\groundingof{\extformulaof{\atomorder\shortminus1}}}$};
        \node[anchor=center] (text) at (10.5,-2) {$\cdots$};

        \draw[-<-] (13,-3) -- (3.5,-3) ;
        \draw[-<-] (13,-5) -- (1.5,-5) ;

        \draw[fill] (11.5,-3) circle (\dotsize);
        \draw[->-] (11.5,-3) -- (11.5,-1);

        \draw[fill] (9.5,-5) circle (\dotsize);
        \draw[->-] (9.5,-5) -- (9.5,-1);

        \draw[fill] (3.5,-3) circle (\dotsize);
        \draw[->-] (3.5,-3) -- (3.5,-1);

        \draw[fill] (1.5,-5) circle (\dotsize);
        \draw[->-] (1.5,-5) -- (1.5,-1);


        \draw[fill] (7.5,-3) circle (\dotsize);
        \draw[-<-] (7.5,-3) -- (7.5,-7) node[right] {\colorlabelsize $\indvariableof{\indorder-1}$} ;

        \node[anchor=center] (text) at (6.5,-6) {$\cdots$};

        \draw[fill] (5.5,-5) circle (\dotsize);
        \draw[-<-] (5.5,-5) -- (5.5,-7) node[left] {\colorlabelsize $\indvariableof{0}$} ;


        \draw (13,-2) rectangle (15,-6);
        \node[anchor=center] (text) at (14,-4) {$\bencodingof{\groundingof{\impformula}}$};
        \node[anchor=center] (text) at (12,-3.75) {$\vdots$};
        \draw[->-] (15,-4) -- (16,-4);
        \drawvariabledot{16}{-4}
        \draw[] (17,-4) -- (16,-4);
        \draw (17,-3) rectangle (19,-5);
        \node[anchor=center] (text) at (18,-4) {$\tbasis$};

    \end{scope}

    \node[anchor=center] (text) at (30,-2) {${+}$};

    \begin{scope}
        [shift={(22,1)}]

        \draw (13,0) rectangle (15,2);
        \node[anchor=center] (text) at (14,1) {$\fbasis$};

        \draw[] (14,-1) --(14,0);
        \drawvariabledot{14}{-1}
        \draw[->-] (14,-2) --(14,-1);

        \draw (12,-2) rectangle (16,-4);
        \node[anchor=center] (text) at (14,-3) {$\bencodingof{\groundingof{\impformula}}$};

        \draw[-<-] (12.5,-4) -- (12.5,-6) node[left] {\colorlabelsize $\indvariableof{0}$} ;
        \node[anchor=center] (text) at (14,-5) {$\cdots$};
        \draw[-<-] (15.5,-4) -- (15.5,-6) node[right] {\colorlabelsize $\indvariableof{\indorder\shortminus1}$} ;
    \end{scope}

\end{tikzpicture}