\begin{tikzpicture}[thick, scale=0.35] % , baseline = -3.5pt

\drawundiratomindices{0}{-4}
\draw (-2,-1) rectangle (6, -3);
\node[anchor=center] (text) at (2,-2) {$\expof{\canparamat{\selvariable=\selindex}\cdot\formulaof{\selindex}}$};

		
\node[anchor=center] (text) at (10,-2) {${=}$};


\begin{scope}[shift={(15,-2)}]

		\draw (-0.5,3) rectangle (4.5, 5);
		\node[anchor=center] (text) at (2,4) {$\headcoreof{\formulaof{\selindex},\canparamat{\selvariable=\selindex}}$};

		\draw[fill] (2,2.25) circle (0.25cm);
		\draw[] (2,2.25) -- (2,3);
		\draw[->] (2,1) -- (2,2.5) node[midway, left] {\tiny $\catvariableof{\formulaof{\selindex}}$};
		
		\draw (-1,1) rectangle (5, -1);
		\node[anchor=center] (text) at (2,0) {$\rencodingof{\formulaof{\selindex}}$};

		\drawatomindices{0}{-2}

\end{scope}

\end{tikzpicture}