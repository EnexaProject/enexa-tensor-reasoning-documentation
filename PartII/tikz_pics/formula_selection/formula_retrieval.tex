\begin{tikzpicture}[thick, scale=0.35] % , baseline = -3.5pt

\node[anchor=east] (text) at (-3,0) {${\exformula_{\selindices}} \quad\quad {=}$};

\drawatomindices{0}{-4}
\draw (-1,3) rectangle (5, -3);
\node[anchor=center] (text) at (2,0) {$\bsencodingof{\fselectionmap}$};

\draw[->-] (2,3)--(2,5) node[midway,right] {\colorlabelsize $\headvariableof{\fselectionmap}$};
\draw (1,5) rectangle (3,7);
\node[anchor=center] (text) at (2,6) {$\tbasis$};

\draw[-<-] (5,-2.25)--(7,-2.25) node[midway,below] {\colorlabelsize $\selvariableof{0}$};
\draw[-<-] (5,-0.5)--(7,-0.5) node[midway,below] {\colorlabelsize $\selvariableof{1}$};
\node[anchor=center] (text) at (6,1) {$\vdots$};
\draw[-<-] (5,2.25)--(7,2.25) node[midway,above] {\colorlabelsize $\selvariableof{\selorder\shortminus1}$};

\draw (7,1.5) rectangle (9,3);
\node[anchor=center] (text) at (8,2.25) {$\onehotmapof{\selindexof{\selorder\shortminus1}}$};

\draw (7,0.25) rectangle (9,-1.25);
\node[anchor=center] (text) at (8,-0.5) {$\onehotmapof{\selindexof{1}}$};

\draw (7,-1.5) rectangle (9,-3);
\node[anchor=center] (text) at (8,-2.25) {$\onehotmapof{\selindexof{0}}$};

\end{tikzpicture}