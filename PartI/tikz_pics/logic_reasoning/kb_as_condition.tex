\begin{tikzpicture}[scale=0.35,thick] % , baseline = -3.5pt


\begin{scope}[shift={(-2,0)}]

%\draw[dashed] (1,1) rectangle (3,3);
%\node[anchor=center] (text) at (2,2) {\small $\onehotmapof{\atomlegindexof{\exformula}}$};

\draw[-<-] (2,-1)--(2,1) node[midway,right] {\tiny $\formulavar$};

\draw (-1,-1) rectangle (5,-3);
\node[anchor=center] (text) at (2,-2) {\small $\condprobof{\atomicformulas}{\formulavar}$};
\draw[->-] (0,-3)--(0,-5) node[midway,left] {\tiny $\catvariableof{0}$};
\draw[->-] (1.5,-3)--(1.5,-5) node[midway,left] {\tiny $\catvariableof{1}$};
\node[anchor=center] (text) at (3,-4) {$\cdots$};
\draw[->-] (4,-3)--(4,-5) node[midway,right] {\tiny $\catvariableof{\atomorder\shortminus1}$};


\node[anchor=center] (text) at (7,-2) {${=}$};

\end{scope}


\node[anchor=center] (text) at (8,-2.25) {$\sum\limits_{\headindexof{\exformula}\in[2]}$};

\draw[] (10,-1) rectangle (12,-3);
\node[anchor=center] (text) at (11,-2) {\small $\onehotmapof{\headindexof{\exformula}}$};

\draw[->-] (11,-3)--(11,-5) node[midway,right] {\tiny $\formulavar$};



\begin{scope}[shift={(15,0)}]

\draw[] (1,1) rectangle (3,3);
\node[anchor=center] (text) at (2,2) {\small $\onehotmapof{\headindexof{\exformula}}$};

\draw[->-] (2,-1)--(2,1) node[midway,right] {\tiny $\formulavar$};
\draw (-1,-1) rectangle (5,-3);
\node[anchor=center] (text) at (2,-2) {\small $\rencodingof{\exformula}$};
\draw[-<-] (0,-3)--(0,-5) node[midway,left] {\tiny $\catvariableof{0}$};
\draw[-<-] (1.5,-3)--(1.5,-5) node[midway,left] {\tiny $\catvariableof{1}$};
\node[anchor=center] (text) at (3,-4) {$\cdots$};
\draw[-<-] (4,-3)--(4,-5) node[midway,right] {\tiny $\catvariableof{\atomorder\shortminus1}$};


\end{scope}


\begin{scope}[shift={(25,0)}]

\draw (-5,-7) -- (0,3);
	
	\draw[] (1,1) rectangle (3,3);
	\node[anchor=center] (text) at (2,2) {\small $\onehotmapof{\headindexof{\exformula}}$};

	\draw[->-] (2,-1)--(2,1) node[midway,right] {\tiny $\formulavar$};
\draw (-1,-1) rectangle (5,-3);
\node[anchor=center] (text) at (2,-2) {\small $\rencodingof{\exformula}$};
\draw[-<-] (0,-3)--(0,-5) node[midway,left] {\tiny $\catvariableof{0}$};
\draw[-<-] (1.5,-3)--(1.5,-5) node[midway,left] {\tiny $\catvariableof{1}$};
\node[anchor=center] (text) at (3,-4) {$\cdots$};
\draw[-<-] (4,-3)--(4,-5) node[midway,right] {\tiny $\catvariableof{\atomorder\shortminus1}$};

\draw (-1,-5) rectangle (5,-7);
\node[anchor=center] (text) at (2,-6) {\small $\ones$};

\end{scope}

\node[anchor=center] (text) at (32,-5) {$.$};

\end{tikzpicture}