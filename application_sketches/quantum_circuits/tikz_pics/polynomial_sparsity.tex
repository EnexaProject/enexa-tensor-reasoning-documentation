\begin{tikzpicture}[scale=0.35, thick] % , baseline = -3.5pt

    \node[anchor=center] (text) at (-5,4) {${=}$};

    \begin{scope}
        [shift={(-20,-1)}]

        \node[anchor=center] (text) at (-1,9) {$\headvariableof{\onehotmapof{\headindexof{\variableset}},\insymbol}$};
        \node[anchor=center] (text) at (12,9) {$\headvariableof{\onehotmapof{\headindexof{\variableset}},\outsymbol}$};

        \draw (5.5,-1) -- (5.5,8);
        \drawvariabledot{5.5}{6}
        \drawvariabledot{5.5}{-1}

        \draw (1,9) -- (4,9);
        \draw (4,8) rectangle (7,10);
        \node[anchor=center] (text) at (5.5,9) {$\qcbencodingof{\onehotmapof{\headindexof{\variableset}}}$};
        \draw (7,9) -- (10,9);

        \draw (1,6) -- (10,6);

        \draw[dashed] (0.5,7.5) -- (10.5,7.5);

        \node[anchor=center] (text) at (3,3.25) {$\vdots$};
        \node[anchor=center] (text) at (-1,3) {$\catvariableof{\variableset,\insymbol}$};

        \node[anchor=center] (text) at (8,3.25) {$\vdots$};
        \node[anchor=center] (text) at (12,3) {$\catvariableof{\variableset,\outsymbol}$};

        \draw (1,-1) -- (10,-1);

    \end{scope}

    \node[anchor=center] (text) at (-1,8) {$\headvariableof{\onehotmapof{\headindexof{\variableset}},\insymbol}$};
    \node[anchor=center] (text) at (12,8) {$\headvariableof{\onehotmapof{\headindexof{\variableset}},\outsymbol}$};

    \draw (5.5,-2) -- (5.5,9);
    \drawvariabledot{5.5}{5}
    \drawvariabledot{5.5}{2}
    \drawvariabledot{5.5}{0}
    \drawvariabledot{5.5}{-2}

    %% CNOT
    \draw (1,8) -- (10,8);
    \draw (5.5,8) circle (1);

    \draw[dashed] (0.5,6.5) -- (10.5,6.5);

    \draw (1,5) -- (2.5,5);
    \draw (2.5,4) rectangle (4.5,6);
    \node[anchor=center] (text) at (3.5,5) {$\paulixsymbol$};
    \draw (4.5,5) -- (6.5,5);
    \draw (6.5,4) rectangle (8.5,6);
    \node[anchor=center] (text) at (7.5,5) {$\paulixsymbol$};
    \draw (8.5,5) -- (10,5);

    \node[anchor=center] (text) at (1.75,3.75) {$\vdots$};
    \node[anchor=center] (text) at (9.25,3.75) {$\vdots$};

    \draw (1,2) -- (2.5,2);
    \draw (2.5,1) rectangle (4.5,3);
    \node[anchor=center] (text) at (3.5,2) {$\paulixsymbol$};
    \draw (4.5,2) -- (6.5,2);
    \draw (6.5,1) rectangle (8.5,3);
    \node[anchor=center] (text) at (7.5,2) {$\paulixsymbol$};
    \draw (8.5,2) -- (10,2);

    \draw (1,0) -- (10,0);
    \draw (1,-2) -- (10,-2);

    \node[anchor=center] (text) at (1.75,-0.75) {$\vdots$};
    \node[anchor=center] (text) at (9.25,-0.75) {$\vdots$};

    \node[anchor=center] (text) at (-1,2) {$\catvariableof{\variableset,\insymbol}$};
    \node[anchor=center] (text) at (12,2) {$\catvariableof{\variableset,\outsymbol}$};


\end{tikzpicture}