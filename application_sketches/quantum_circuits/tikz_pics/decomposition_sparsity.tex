\begin{tikzpicture}[scale=0.35, thick] % , baseline = -3.5pt

    %% Statistic Qubits
    \node[anchor=center] (text) at (-1,9) {$\headvariableof{\secexfunction\circ\exfunction,\insymbol}$};
    \node[anchor=center] (text) at (15,9) {$\headvariableof{\secexfunction\circ\exfunction,\outsymbol}$};

    \draw (1,9) -- (8,9);
    \draw (8,8) rectangle (10,10);
    \node[anchor=center] (text) at (9,9) {$\qcbencodingof{\secexfunction}$};
    \draw (10,9) -- (13,9);

    \draw (9,6) -- (9,8);
    \drawvariabledot{9}{6}

    \draw (-1,5) rectangle (1,7);
    \node[anchor=center] (text) at (0,6) {$\onehotmapof{0}$};
    \draw (1,6) -- (5,6);
    \draw (5,5) rectangle (7,7);
    \node[anchor=center] (text) at (6,6) {$\qcbencodingof{\exfunction}$};
    \draw (7,6) -- (13,6);
    \draw (13,5) rectangle (15,7);
    \node[anchor=center] (text) at (14,6) {$\ones$};


    \draw (6,1) -- (6,5);
    \drawvariabledot{6}{4}
    \drawvariabledot{6}{1}

    \draw[dashed] (0.5,7.5) -- (13.5,7.5);

    \draw (1,4) -- (13,4);

    \node[anchor=center] (text) at (3,2.75) {$\vdots$};
    \node[anchor=center] (text) at (-1,2.5) {$\catvariableof{[\atomorder],\insymbol}$};

    \node[anchor=center] (text) at (11,2.75) {$\vdots$};
    \node[anchor=center] (text) at (15,2.5) {$\catvariableof{[\atomorder],\outsymbol}$};

    \draw (1,1) -- (13,1);

    \node[anchor=center] (text) at (-5,5) {${=}$};

    \begin{scope}
        [shift={(-20,0)}]

        \node[anchor=center] (text) at (-1,9) {$\headvariableof{\secexfunction\circ\exfunction,\insymbol}$};
        \node[anchor=center] (text) at (12,9) {$\headvariableof{\secexfunction\circ\exfunction,\outsymbol}$};

        \draw (5.5,1) -- (5.5,8);
        \drawvariabledot{5.5}{4}
        \drawvariabledot{5.5}{1}

        \draw (1,9) -- (4,9);
        \draw (4,8) rectangle (7,10);
        \node[anchor=center] (text) at (5.5,9) {$\qcbencodingof{\secexfunction\circ\exfunction}$};
        \draw (7,9) -- (10,9);

        \draw (1,4) -- (10,4);

        \draw[dashed] (0.5,7.5) -- (10.5,7.5);

        \node[anchor=center] (text) at (3,2.75) {$\vdots$};
        \node[anchor=center] (text) at (-1,2.5) {$\catvariableof{[\atomorder],\insymbol}$};

        \node[anchor=center] (text) at (8,2.75) {$\vdots$};
        \node[anchor=center] (text) at (12,2.5) {$\catvariableof{[\atomorder],\outsymbol}$};

        \draw (1,1) -- (10,1);

    \end{scope}

\end{tikzpicture}